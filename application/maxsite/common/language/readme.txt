Языковой перевод MaxSite CMS
----------------------------

1. Файл перевода представляет собой обычный php-файл с массивом $lang в виде:
	
	$lang['фраза1'] = 'перевод1';
	$lang['фраза2'] = 'перевод2';

2. 	Перевод условно делится на следующие части:
	
	Входящие в комплект MaxSite CMS:
	- frontend - основной перевод, фразы подключаются всегда.
	- backend - только для админ-панели.
	- install - перевод инсталяции системы.
	
	Сторонние разработки
	- mytemplate - перевод шаблона.
	- __FILE__ - перевод из каталога плагина или шаблона
	

3. 	Имя php-файла перевода состоит из языка и, если необходимо, суффикса -f, 
	указывающего на перевод frontend.
	
	Например немецкий язык указывается как de в mso_config.php
		
		$MSO->language = 'de'; // deutsch 

	Языковые файлы будут следующими:
	
		/common/language/de.php - перевод админ-панели
		/common/language/de-f.php - основной перевод
		/templates/ШАБЛОН/language/de.php - перевод шаблона
		/plugins/ПЛАГИН/language/de.php - перевод плагина

4.	В скриптах MaxSite CMS испольуется две языковые функции:
		t() - указывает, что фраза используется в админ-панели
		tf() - указывает, что фраза используется как frontend.
		
	Обе функции идентичны и служат только для интерфейсного разделения фраз 
	перевода с последующей целью обработки фраз в программе PoEdit.
	
	Данный алгоритм позволяет отделить перевод для админ-панели от перевода 
	frontend, расположенные в одном файле.

	Функции принимают два параметра:
		- переводимая фраза (обязательно)
		- ключ перевода:
			__FILE__ - /language/ текущего каталога скрипта.
			install - /common/language/install/ 
			mytemplate - /language/ текущиго шаблона
	
	Подключение перевода админ-панели происходит автоматически при наличии в 
	первом сегменте адреса «admin».
	
5.	Алгоритм работы перевода MaxSite CMS (на примере немецкого языка).

	- 	Если указан язык, то при первом вызове функции t() или tf() происходит 
		загрузка /common/language/de-f.php.
		
	- 	Если это админ-панель, то дополнительно загружается /common/language/de.php
			
	-	Если указан __FILE__ то загружается языковой файл этого каталога/language/de.php
	
	- 	Если указан mytemplate, то загружается перевод текущего шаблона/language/de.php
	
	-	Если указан install, то загружается /common/language/install/de.php
		Это перевод используется только при инсталяции системы.
	
	Все загрузки выполняются один раз и автоматом кэшируются в памяти.

6.	Работа с PoEdit.

	1. Скопируем необходимые каталоги с фразами в отдельный каталог.
	2. Запускаем PoEdit.
	3. Создать каталог.
	4. Название проекта
	5. Кодировка utf8
	6. Кодировка исходного кода utf8
	7. Пути к каталогу (полный). Путь к базе «.».
	8. Ключевые слова: все удалить, добавить t для админ-панели 
		или tf - для frontend.
	9. Ок. Указать имя файла.
	10. Еще раз выбрать Сохранить.
	
	= На выходе готовый po-файл.

7.	Работа с php-кодировщиком po->lang (см. convert-po-to-lang.zip)
	
	1. Скопировать файл, например frontend.po в каталог скрипта.
	2. Убедиться, что в index.php указан этот файл для парсинга.
	3. Запустить скрипт через браузер.
	
	= на выходе frontend.po.lang.php
	
	Переименовываем его языковой файл, например de-f.php



********************************************************************************
По всем вопросам, связанным с переводом, обращаться только через
форум http://forum.max-3000.com/ или непосредственно к автору перевода. 
Разработчик MaxSite CMS не занимается переводом. :)